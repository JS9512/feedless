<ion-content>
  <div style="max-width: 700px; padding-top: 50px; margin: auto">
    <h1>Create a new Repository</h1>
    <ion-row>
      <ion-col size="4" class="flex">
        <ion-label id="sink-name" class="ion-align-self-center">Name</ion-label>
      </ion-col>
      <ion-col size="8">
        <ion-input
          aria-labelledby="sink-name"
          fill="outline"
          placeholder="Enter a name"
          [formControl]="formFg.controls.title"
        ></ion-input>
        <div
          class="ion-margin-bottom"
          *ngIf="showErrors && formFg.controls.title.invalid"
        >
          <ion-text color="danger">Please enter a name</ion-text>
        </div>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="4">
        <ion-label id="sink-description">Description (optional)</ion-label>
      </ion-col>
      <ion-col size="8">
        <ion-textarea
          fill="outline"
          rows="3"
          placeholder="Type links, #tags"
          [formControl]="formFg.controls.description"
          aria-labelledby="sink-description"
        ></ion-textarea>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="8" push="4">
        <ion-radio-group [formControl]="formFg.controls.visibility">
          <ion-radio labelPlacement="end" [value]="GqlVisibility.IsPublic"
            >Public</ion-radio
          >
          <ion-radio labelPlacement="end" [value]="GqlVisibility.IsPrivate"
            >Private</ion-radio
          >
        </ion-radio-group>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="4" class="flex">
        <ion-label id="max-items" class="ion-align-self-center"
          >Max Items</ion-label
        >
      </ion-col>
      <ion-col size="8">
        <ion-input
          aria-labelledby="max-items"
          fill="outline"
          type="number"
          min="2"
          [formControl]="formFg.controls.maxItems"
          placeholder="Auto"
        ></ion-input>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col size="4" class="flex">
        <ion-label id="max-age" class="ion-align-self-center"
          >Max Age</ion-label
        >
      </ion-col>
      <ion-col size="8">
        <ion-input
          aria-labelledby="max-age"
          fill="outline"
          type="number"
          min="1"
          [formControl]="formFg.controls.maxAgeDays"
          placeholder="Auto"
        ></ion-input>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col push="4" size="8" class="flex__row">
        <div style="width: 160px">
          <ion-button
            color="success"
            expand="block"
            *ngIf="!loading"
            (click)="createRepository()"
          >
            Create Repository
          </ion-button>
          <ion-button color="danger" expand="block" *ngIf="loading">
            <ion-spinner name="crescent" class="ion-margin-end"></ion-spinner>
            Loading
          </ion-button>
        </div>
        <ion-text
          color="danger"
          class="ion-margin-horizontal ion-align-self-center"
          *ngIf="errorMessage"
        >
          {{errorMessage}}!
        </ion-text>
      </ion-col>
    </ion-row>
  </div>
</ion-content>
