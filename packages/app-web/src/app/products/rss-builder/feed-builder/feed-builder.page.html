<ion-content [fullscreen]="true">
  <div class="ion-margin" *ngIf="loading">
    <ion-spinner name="dots"></ion-spinner>
  </div>

  <div
    style="
      height: 300px;
      align-items: center;
      justify-content: center;
      display: flex;
    "
    *ngIf="!loading && !scrapeResponse"
  >

  </div>

  <app-transform-website-to-feed
    *ngIf="scrapeResponse"
    [scrapeRequest]="scrapeRequest"
    [scrapeResponse]="scrapeResponse"
    (selectedFeedChanges)="selectedFeed = $event"
    (statusChanges)="hasFeed = $event === 'valid'"
  >
    <ion-item
      [button]="true"
      topSlot
      (click)="showActionsModal()"
    >
      Enable Javascript
      <ion-icon name="settings-outline" slot="end"></ion-icon>
    </ion-item>
    <ion-item
      [button]="true"
      bottomSlot
      (click)="generateFeed()"
      [color]="hasFeed ? 'success': 'medium'"
    >
      Finalize Feed
      <ion-icon name="flask-outline" slot="end"></ion-icon>
    </ion-item>
  </app-transform-website-to-feed>
</ion-content>
