fragment BasicSelectors on Selectors {
  contextXPath
  linkXPath
  extendContext
  dateXPath
  dateIsStartOfEvent
}

fragment BasicSourceSubscription on SourceSubscription {
  id
  ownerId
  title
  description
  visibility
  createdAt
  updatedAt
  plugins {
    pluginId
    params {
      genericFeed {
        extendContext
        linkXPath
        contextXPath
        dateIsStartOfEvent
        dateXPath
      }
      diffEmailForward {
        inlineDiffImage
        inlineLatestImage
        inlinePreviousImage
        compareBy
        nextItemMinIncrement
      }
      fulltext {
        readability
      }
      rawJson
    }
  }
  segmented {
    digest
    scheduleExpression
    size
    sortAsc
    sortBy
  }
  disabledFrom
  archived
  retention {
    maxAgeDays
    maxItems
  }
  sources {
    id
    debug {
      network
      html
      console
      cookies
      screenshot
    }
    emit {
      selectorBased {
        min
        max
        xpath {
          value
        }
        expose {
          pixel
          fields {
            min
            max
            name
            value {
              set
              html {
                xpath {
                  value
                }
              }
              text {
                regex
              }
            }
          }
          transformers {
            pluginId
            params {
              genericFeed {
                contextXPath
                dateXPath
                dateIsStartOfEvent
                extendContext
                linkXPath
              }
            }
          }
        }
      }
      imageBased {
        boundingBox {
          x
          y
          w
          h
        }
      }
    }
    page {
      url
      timeout
      prerender {
        viewport {
          ...BasicViewport
        }
      }
      actions {
        ...BasicAction
      }
    }
  }
}

fragment BasicViewport on ViewPort {
  height
  width
  isLandscape
  isMobile
}

fragment BasicReadability on ScrapedReadability {
  url
  content
  contentMime
  contentText
  date
  faviconUrl
  imageUrl
  title
}

fragment BasicNestedScrapedField on ScrapedField {
  ...BasicScrapedField
}
fragment BasicScrapedField on ScrapedField {
  xpath {
    value
  }
  name
  value {
    one {
      mimeType
      data
    }
    many {
      mimeType
      data
    }
    nested {
      name
      xpath {
        value
      }
    }
  }
}

fragment BasicRefineOptions on RefineOptions {
  filter
}

fragment BasicAction on ScrapeAction {
  type {
    element {
      value
    }
  }
  cookie {
    value
  }
  click {
    element {
      xpath {
        value
      }
      name {
        value
      }
    }
  }
  header {
    value
    name
  }
  select {
    element {
      value
    }
    selectValue
  }
  wait {
    element {
      name {
        value
      }
      xpath {
        value
      }
    }
  }
}
fragment BasicScrapeOptions on ScrapeRequest {
  page {
    prerender {
      viewport {
        ...BasicViewport
      }
    }
    actions {
      ...BasicAction
    }
    url
    timeout
  }
}

fragment BasicFeature on Feature {
  name
  value {
    numVal {
      value
    }
    boolVal {
      value
    }
  }
}

fragment BasicPlan on Plan {
  id
  name
  availability
  isPrimary
  currentCosts
  beforeCosts
}

fragment BasicPagination on Pagination {
  page
  isLast
  isFirst
  isEmpty
}

fragment BasicWebDocument on WebDocument {
  id
  contentTitle
  contentRawMime
  contentRawBase64
  contentText
  url
  imageUrl
  createdAt
  publishedAt
  startingAt
}

fragment BasicEnclosure on Enclosure {
  size
  duration
  type
  url
}

fragment BasicHistogram on Histogram {
  items {
    index
    count
  }
  frame
}

fragment BasicContent on WebDocument {
  contentTitle
  contentText
  contentRawBase64
  contentRawMime
  url
  imageUrl
  publishedAt
  startingAt
  updatedAt
  createdAt
  enclosures {
    ...BasicEnclosure
  }
}

fragment BasicNativeFeed on NativeFeed {
  title
  description
  domain
  imageUrl
  iconUrl
  websiteUrl
  feedUrl
  status
  lastCheckedAt
  errorMessage
  lastChangedAt
  streamId
  lat
  lon
  ownerId
  createdAt
}
