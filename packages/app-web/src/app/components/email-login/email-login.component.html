<ion-card>
  <ion-card-content>
    <ion-list>
      <form (ngSubmit)="initiateSession()">
        <ion-item>
          <ion-input
            [formControl]="emailFc"
            [readonly]="mode === 'enterConfirmationCode'"
            label="Email"
            labelPlacement="stacked"
            name="email"
            placeholder="Enter your email"
            type="email"
          ></ion-input>
        </ion-item>
        <ion-item *ngIf="errorMessage">
          <ion-label color="danger">
            {{ errorMessage }}
          </ion-label>
        </ion-item>
        <ion-item
          (click)="initiateSession()"
          *ngIf="mode === 'enterMail'"
          [button]="true"
          [color]="busy ? 'medium' : 'primary'"
          class="ion-margin-top"
          type="submit"
        >
          Send Auth Code
          <ion-icon
            *ngIf="!busy"
            name="arrow-forward-outline"
            slot="end"
          ></ion-icon>
          <ion-spinner *ngIf="busy" name="dots" slot="end"></ion-spinner>
        </ion-item>
      </form>
      <form
        (ngSubmit)="sendAuthCode()"
        *ngIf="mode === 'enterConfirmationCode'"
      >
        <ion-item>
          <ion-input
            [formControl]="confirmationCodeFc"
            label="Email Code"
            labelPlacement="stacked"
            name="confirmationCode"
            placeholder="Type here"
          ></ion-input>
        </ion-item>
        <ion-item
          (click)="sendAuthCode()"
          [button]="true"
          class="ion-margin-top"
          color="primary"
        >
          Authenticate
          <ion-icon
            *ngIf="!busy"
            name="arrow-forward-outline"
            slot="end"
          ></ion-icon>
          <ion-spinner *ngIf="busy" name="dots" slot="end"></ion-spinner>
        </ion-item>
      </form>
    </ion-list>
  </ion-card-content>
</ion-card>
