<app-wizard-columns class="flex">
  <div left [formGroup]="formGroup" class="accordion-group-wrapper">
    <ion-list
      style="position: absolute; width: 100%"
      *ngIf="handler.getDiscovery() && !handler.getDiscovery().failed"
    >
      <ion-list-header>
        <ion-label>Selectors</ion-label>
      </ion-list-header>
<!--      <ion-grid slot="content">-->
        <ion-item>
          <ion-input
            name="contextXPath"
            label="Context"
            labelPlacement="stacked"
            color="primary"
            placeholder="xpath from root"
            [formControl]="formGroup.controls.contextXPath"
          ></ion-input>
        </ion-item>
        <ion-item>
          <ion-input
            name="linkXPath"
            label="Link"
            labelPlacement="stacked"
            color="primary"
            placeholder="relative xpath from context"
            [formControl]="formGroup.controls.linkXPath"
          ></ion-input>
        </ion-item>
        <ion-item>
          <ion-select
            [required]="true"
            label="Extend Context"
            labelPlacement="stacked"
            name="extendContext"
            [formControl]="formGroup.controls.extendContext"
          >
            <ion-select-option
              *ngFor="let extendContextOption of getExtendContextOptions()"
              [value]="extendContextOption.value"
            >
              + {{ extendContextOption.label }}
            </ion-select-option>
          </ion-select>
        </ion-item>
        <ion-item>
          <ion-input
            name="dateXPath"
            label="Date"
            labelPlacement="stacked"
            color="primary"
            placeholder="relative xpath from context"
            [formControl]="formGroup.controls.dateXPath"
          ></ion-input>
        </ion-item>
        <ion-item *ngIf="formGroup.value.dateXPath">
          <ion-checkbox
            slot="start"
            name="dateIsStartOfEvent"
            labelPlacement="stacked"
            [formControl]="formGroup.controls.dateIsStartOfEvent"
          >Date is Beginning of Event</ion-checkbox>
        </ion-item>
<!--      </ion-grid>-->
      <!--          <ion-item>-->
      <!--            <ion-label position="floating">Pagination</ion-label>-->
      <!--            <ion-input-->
      <!--              name="paginationXPath"-->
      <!--              placeholder="relative xpath from context"-->
      <!--              [formControl]="formGroup.controls.paginationXPath"-->
      <!--            ></ion-input>-->
      <!--          </ion-item>-->
      <app-wizard-importer
        [handler]="handler"
        [feedPreview]="false"
      ></app-wizard-importer>
    </ion-list>
  </div>

  <div right style="flex: 1; display: flex; flex-direction: column">
    <ion-segment #segment [value]="segmentFeed" mode="ios" style="max-width: 300px">
      <ion-segment-button [value]="segmentFeed">
        <ion-label>Feed</ion-label>
      </ion-segment-button>
      <ion-segment-button value="website">
        <ion-label>Website</ion-label>
      </ion-segment-button>
    </ion-segment>

    <app-remote-feed
      style="flex: 1; display: flex"
      *ngIf="feedUrl"
      [ngClass]="{ hidden: segment.value !== segmentFeed }"
      [showTitle]="false"
      [handler]="handler"
    >
      <!--      todo suggestions -->
      <!--      <ion-card color="primary">-->
      <!--        <ion-card-header>-->
      <!--          <ion-card-subtitle>Refine Feed</ion-card-subtitle>-->
      <!--          <ion-card-title>Require Title?</ion-card-title>-->
      <!--        </ion-card-header>-->

      <!--        <ion-card-content>-->
      <!--          <ion-button>Skip</ion-button>-->
      <!--          <ion-button>Skip</ion-button>-->
      <!--        </ion-card-content>-->
      <!--      </ion-card>-->
    </app-remote-feed>
    <app-embedded-website
      class="flex"
      [ngClass]="{ hidden: segment.value === segmentFeed }"
      [highlightXpath]="formGroup.value.contextXPath"
      [embed]="embedWebsiteData"
    ></app-embedded-website>
  </div>
</app-wizard-columns>
