<h1 class="ion-margin-start">Login</h1>
<ion-card>
  <ion-card-content>
    <ion-list>
      <form (ngSubmit)="initiateSession()">
        <ion-item>
          <ion-input
            name="email"
            label="Email"
            labelPlacement="stacked"
            [formControl]="emailFc"
            type="email"
            [readonly]="mode === 'enterConfirmationCode'"
            placeholder="Enter your email"
          ></ion-input>
        </ion-item>
        <ion-item
          *ngIf="mode === 'enterMail'"
          class="ion-margin-top"
          [button]="true"
          (click)="initiateSession()"
          type="submit"
          [color]="busy ? 'medium' : 'primary'"
        >
          Send Auth Code
          <ion-icon *ngIf="!busy" name="arrow-forward-outline" slot="end"></ion-icon>
          <ion-spinner *ngIf="busy" name="dots" slot="end"></ion-spinner>
        </ion-item>
      </form>
      <form (ngSubmit)="sendConfirmationCode()" *ngIf="mode === 'enterConfirmationCode'">
        <ion-item>
          <ion-input
            name="confirmationCode"
            label="Email Code"
            labelPlacement="stacked"
            [formControl]="confirmationCodeFc"
            placeholder="Type here"
          ></ion-input>
        </ion-item>
        <ion-item
          class="ion-margin-top"
          [button]="true"
          (click)="sendConfirmationCode()"
          color="primary"
        >
          Authenticate
          <ion-icon *ngIf="!busy" name="arrow-forward-outline" slot="end"></ion-icon>
          <ion-spinner *ngIf="busy" name="dots" slot="end"></ion-spinner>
        </ion-item>
      </form>
    </ion-list>
  </ion-card-content>
</ion-card>

