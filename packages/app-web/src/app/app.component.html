<ion-app [style]="{ '--sidemenu-width': productConfig.sideMenu?.width + 'px' }">
  <ion-split-pane contentId="main-content"
                  [when]="getBreakpointMinWidth()">
    <ion-menu
      contentId="main-content"
      type="reveal"
      [hidden]="!productConfig.sideMenu"
    >
      <ion-content class="ion-no-padding">
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
          </ion-buttons>

          <ion-title
            style="cursor: pointer"
            routerLink="/"
            slot="start"
            size="small"
          >
            <span [innerHtml]="productConfig.titleHtml"></span>
          </ion-title>
        </ion-toolbar>

        <app-feedless-menu
          style="flex: 1"
          *ngIf="isActiveProduct(GqlProduct.Feedless)"
        ></app-feedless-menu>
        <app-reader-menu
          style="flex: 1"
          *ngIf="isActiveProduct(GqlProduct.Reader)"
        ></app-reader-menu>
        <app-visual-diff-menu
          style="flex: 1"
          *ngIf="isActiveProduct(GqlProduct.VisualDiff)"
        ></app-visual-diff-menu>
        <app-rss-builder-menu
          style="flex: 1"
          *ngIf="isActiveProduct(GqlProduct.RssBuilder)"
        ></app-rss-builder-menu>

        <ion-list style="opacity: 0.8">
          <ion-menu-toggle
            auto-hide="false"
            *ngFor="let p of metaPages; let i = index"
          >
            <ion-item
              routerDirection="root"
              [href]="[p.url]"
              lines="none"
              detail="false"
            >
              <ion-label>{{ p.title }}</ion-label>
            </ion-item>
          </ion-menu-toggle>
        </ion-list>
      </ion-content>
    </ion-menu>
    <ion-router-outlet id="main-content"></ion-router-outlet>
  </ion-split-pane>
</ion-app>
