<ion-app
  *ngIf="productConfig"
  [style]="{ '--sidemenu-width': productConfig.sideMenu?.width + 'px' }"
>
  <ion-split-pane [when]="getBreakpointMinWidth()" contentId="main-content">
    <ion-menu
      [hidden]="!productConfig.sideMenu"
      contentId="main-content"
      type="reveal"
    >
      <ion-content class="ion-no-padding">
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
          </ion-buttons>

          <app-product-title class="ion-padding-horizontal"></app-product-title>
        </ion-toolbar>

        <app-feedless-menu
          *ngIf="isActiveProduct(GqlProductName.Feedless)"
          style="flex: 1"
        ></app-feedless-menu>
        <app-reader-menu
          *ngIf="isActiveProduct(GqlProductName.Reader)"
          style="flex: 1"
        ></app-reader-menu>
        <app-visual-diff-menu
          *ngIf="isActiveProduct(GqlProductName.VisualDiff)"
          style="flex: 1"
        ></app-visual-diff-menu>
        <app-rss-builder-menu
          *ngIf="isActiveProduct(GqlProductName.RssBuilder)"
          style="flex: 1"
        ></app-rss-builder-menu>

        <ion-list style="opacity: 0.8">
          <ion-menu-toggle
            *ngFor="let p of productConfig.pages; let i = index"
            auto-hide="false"
          >
            <ion-item
              [href]="[p.url]"
              detail="false"
              lines="none"
              routerDirection="root"
            >
              <ion-label>{{ p.title }}</ion-label>
            </ion-item>
          </ion-menu-toggle>
        </ion-list>
        <ion-note class="ion-padding"> Version 0.9-ebec6ca </ion-note>
      </ion-content>
    </ion-menu>
    <ion-router-outlet id="main-content"></ion-router-outlet>
  </ion-split-pane>
</ion-app>
